import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-mFK_bMo8.js";import{d as U,f as V,o as n,w as l,b as a,u as s,e as t,i as f,t as d,n as P,a as c,g as h,l as y,r as F,c as K,h as Q,y as W,F as L,k as T,m as X}from"./app-DA2OwBuc.js";import{_ as b}from"./index-BMPFyPQQ.js";import{_ as M}from"./Separator.vue_vue_type_script_setup_true_lang-CKdrjqhY.js";import{u as Y,_ as Z,a as ee}from"./useViewMode-DfKaj1Xy.js";import{_ as j}from"./index-BGeUKtuW.js";import{a as te,b as se,d as ae,c as re,_ as oe}from"./CardTitle.vue_vue_type_script_setup_true_lang-DWbdFgnu.js";import{C as z,a as le,D as q}from"./list-R4rD3uMk.js";import{C as S}from"./filter-XGaVL60S.js";import{U as ie,a as ne,S as I}from"./user-D02yoekO.js";import{E as A}from"./eye-CMhFNelG.js";import{T as G}from"./trash-2-94HVum9T.js";import{P as E}from"./x-C6v3_JDq.js";import"./index-BV0i58t1.js";import"./useForwardExpose-DBK4_ufP.js";import"./VisuallyHidden-DEgB8TXE.js";import"./RovingFocusGroup-CKPTfuzX.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./check-CP81MTY8.js";import"./createLucideIcon-DSygwVmt.js";import"./Input.vue_vue_type_script_setup_true_lang-C6SwG4RY.js";import"./Label.vue_vue_type_script_setup_true_lang-DjwPXCB2.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-MAi_Zfoz.js";import"./chevron-up-C3_Fby4R.js";import"./useFormControl-AnpGCc7q.js";const de={class:"flex items-start justify-between"},ce={class:"space-y-1 flex-1 min-w-0"},ue={class:"flex items-center space-x-2 ml-4"},me={class:"mb-4"},fe={class:"flex items-center space-x-2"},pe={class:"text-2xl font-bold text-income"},_e={class:"grid grid-cols-1 gap-3 mb-4"},ve={key:0,class:"flex items-center justify-between p-2 bg-muted/30 rounded-md"},be={class:"flex items-center space-x-2"},ge={class:"text-sm"},xe={key:1,class:"flex items-center justify-between p-2 bg-confirmed/10 rounded-md"},he={class:"flex items-center space-x-2"},ye={class:"text-sm"},we={class:"grid grid-cols-1 gap-2 mb-4"},$e={key:0,class:"flex items-center justify-between p-2 bg-muted/20 rounded-md"},ke={class:"flex items-center space-x-2"},Ce={class:"text-sm"},Re={key:1,class:"flex items-center justify-between p-2 bg-muted/20 rounded-md"},Fe={class:"flex items-center space-x-2"},Ve={class:"text-sm"},De={key:0,class:"mb-4"},Be={class:"text-sm bg-muted/30 p-2 rounded-md"},Le={class:"flex justify-end space-x-2"},je=U({__name:"ReceitaCard",props:{receita:{}},emits:["delete"],setup(w,{emit:$}){const k=w,g=$,C=e=>{switch(e){case"recebido":return"bg-confirmed text-confirmed-foreground";case"pendente":return"bg-pending text-pending-foreground";default:return"bg-pending text-pending-foreground"}},p=e=>({salario:"Salário",freelance:"Freelance",rendimento:"Rendimento",outros:"Outros"})[e]||e,_=e=>({mensal:"Mensal",semanal:"Semanal",unica:"Única"})[e]||e,x=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(e)),m=e=>new Date(e).toLocaleDateString("pt-BR"),v=()=>{g("delete",k.receita.id)};return(e,o)=>(n(),V(s(oe),{class:"hover:shadow-md transition-shadow"},{default:l(()=>[a(s(te),{class:"pb-3"},{default:l(()=>[t("div",de,[t("div",ce,[a(s(se),{class:"text-lg truncate"},{default:l(()=>[f(d(e.receita.descricao),1)]),_:1}),a(s(ae),{class:"flex items-center space-x-2"},{default:l(()=>[t("span",null,d(p(e.receita.tipo)),1),o[0]||(o[0]=t("span",{class:"text-xs"},"•",-1)),t("span",null,d(_(e.receita.frequencia)),1)]),_:1,__:[0]})]),t("div",ue,[a(s(j),{class:P(C(e.receita.status))},{default:l(()=>[e.receita.status==="recebido"?(n(),V(s(z),{key:0,class:"mr-1 h-3 w-3"})):(n(),V(s(le),{key:1,class:"mr-1 h-3 w-3"})),f(" "+d(e.receita.status==="recebido"?"Recebido":"Pendente"),1)]),_:1},8,["class"])])])]),_:1}),a(s(re),null,{default:l(()=>[t("div",me,[t("div",fe,[a(s(q),{class:"h-5 w-5 text-income"}),t("span",pe,d(x(e.receita.valor)),1)])]),t("div",_e,[e.receita.data_vencimento?(n(),c("div",ve,[t("div",be,[a(s(S),{class:"h-4 w-4 text-muted-foreground"}),o[1]||(o[1]=t("span",{class:"text-sm font-medium"},"Vencimento",-1))]),t("span",ge,d(m(e.receita.data_vencimento)),1)])):h("",!0),e.receita.data_recebimento?(n(),c("div",xe,[t("div",he,[a(s(z),{class:"h-4 w-4 text-confirmed"}),o[2]||(o[2]=t("span",{class:"text-sm font-medium"},"Recebimento",-1))]),t("span",ye,d(m(e.receita.data_recebimento)),1)])):h("",!0)]),t("div",we,[e.receita.creator?(n(),c("div",$e,[t("div",ke,[a(s(ie),{class:"h-4 w-4 text-muted-foreground"}),o[3]||(o[3]=t("span",{class:"text-sm font-medium"},"Criado por",-1))]),t("span",Ce,d(e.receita.creator.name),1)])):h("",!0),e.receita.responsible_user?(n(),c("div",Re,[t("div",Fe,[a(s(ne),{class:"h-4 w-4 text-muted-foreground"}),o[4]||(o[4]=t("span",{class:"text-sm font-medium"},"Responsável",-1))]),t("span",Ve,d(e.receita.responsible_user.name),1)])):h("",!0)]),e.receita.observacoes?(n(),c("div",De,[o[5]||(o[5]=t("p",{class:"text-sm font-medium text-muted-foreground mb-1"},"Observações",-1)),t("p",Be,d(e.receita.observacoes),1)])):h("",!0),a(s(M),{class:"my-4"}),t("div",Le,[a(s(y),{href:`/receitas/${e.receita.id}`},{default:l(()=>[a(s(b),{variant:"outline",size:"sm"},{default:l(()=>[a(s(A),{class:"mr-2 h-4 w-4"}),o[6]||(o[6]=f(" Ver ",-1))]),_:1,__:[6]})]),_:1},8,["href"]),a(s(y),{href:`/receitas/${e.receita.id}/edit`},{default:l(()=>[a(s(b),{variant:"outline",size:"sm"},{default:l(()=>[a(s(I),{class:"mr-2 h-4 w-4"}),o[7]||(o[7]=f(" Editar ",-1))]),_:1,__:[7]})]),_:1},8,["href"]),a(s(b),{variant:"outline",size:"sm",onClick:v,class:"text-error hover:bg-error hover:text-error-foreground"},{default:l(()=>[a(s(G),{class:"mr-2 h-4 w-4"}),o[8]||(o[8]=f(" Excluir ",-1))]),_:1,__:[8]})])]),_:1})]),_:1}))}}),Se={class:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors"},Ue={class:"flex-1 min-w-0"},Ne={class:"flex items-start justify-between"},Oe={class:"flex-1 min-w-0"},Te={class:"font-medium text-foreground truncate"},ze={class:"text-sm text-muted-foreground"},Ee={class:"flex items-center space-x-2 ml-4"},Pe={class:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground"},Me={class:"flex items-center space-x-1"},qe={class:"font-semibold text-income"},Ie={key:0,class:"flex items-center space-x-1"},Ae={key:1,class:"flex items-center space-x-1"},Ge={class:"flex items-center space-x-1 ml-4"},He=U({__name:"ReceitaListItem",props:{receita:{}},emits:["delete"],setup(w,{emit:$}){const k=w,g=$,C=e=>{switch(e){case"recebido":return"bg-confirmed text-confirmed-foreground";case"pendente":return"bg-pending text-pending-foreground";default:return"bg-pending text-pending-foreground"}},p=e=>({salario:"Salário",freelance:"Freelance",rendimento:"Rendimento",outros:"Outros"})[e]||e,_=e=>({mensal:"Mensal",semanal:"Semanal",unica:"Única"})[e]||e,x=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(e)),m=e=>new Date(e).toLocaleDateString("pt-BR"),v=()=>{g("delete",k.receita.id)};return(e,o)=>(n(),c("div",Se,[t("div",Ue,[t("div",Ne,[t("div",Oe,[t("h3",Te,d(e.receita.descricao),1),t("p",ze,d(p(e.receita.tipo)),1)]),t("div",Ee,[a(s(j),{class:P([C(e.receita.status),"text-xs"])},{default:l(()=>[f(d(e.receita.status==="recebido"?"Recebido":"Pendente"),1)]),_:1},8,["class"]),a(s(j),{variant:"outline",class:"text-xs"},{default:l(()=>[f(d(_(e.receita.frequencia)),1)]),_:1})])]),t("div",Pe,[t("div",Me,[a(s(q),{class:"h-3 w-3"}),t("span",qe,d(x(e.receita.valor)),1)]),e.receita.data_vencimento?(n(),c("div",Ie,[a(s(S),{class:"h-3 w-3"}),t("span",null,"Vence: "+d(m(e.receita.data_vencimento)),1)])):h("",!0),e.receita.data_recebimento?(n(),c("div",Ae,[a(s(S),{class:"h-3 w-3"}),t("span",null,"Recebido: "+d(m(e.receita.data_recebimento)),1)])):h("",!0)])]),t("div",Ge,[a(s(y),{href:`/receitas/${e.receita.id}`},{default:l(()=>[a(s(b),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:l(()=>[a(s(A),{class:"h-4 w-4"}),o[0]||(o[0]=t("span",{class:"sr-only"},"Ver receita",-1))]),_:1,__:[0]})]),_:1},8,["href"]),a(s(y),{href:`/receitas/${e.receita.id}/edit`},{default:l(()=>[a(s(b),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:l(()=>[a(s(I),{class:"h-4 w-4"}),o[1]||(o[1]=t("span",{class:"sr-only"},"Editar receita",-1))]),_:1,__:[1]})]),_:1},8,["href"]),a(s(b),{variant:"ghost",size:"sm",onClick:v,class:"h-8 w-8 p-0 text-error hover:bg-error hover:text-error-foreground"},{default:l(()=>[a(s(G),{class:"h-4 w-4"}),o[2]||(o[2]=t("span",{class:"sr-only"},"Excluir receita",-1))]),_:1,__:[2]})])]))}}),Je={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4"},Ke={class:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between"},Qe={class:"text-muted-foreground"},We={class:"flex items-center space-x-2"},Xe={key:0,class:"flex flex-col items-center justify-center py-12"},Ye={class:"text-center"},Ze={key:1,class:"flex flex-col items-center justify-center py-12"},et={class:"text-center"},tt={key:2,class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},st={key:3,class:"space-y-2"},Vt=U({__name:"Index",props:{receitas:{}},setup(w){const $=w,k=[{title:"Dashboard",href:"/dashboard"},{title:"Receitas",href:"/receitas"}],{viewMode:g,setViewMode:C}=Y("receitas-view-mode"),p=F(""),_=F("created_at"),x=F("desc"),m=F("all"),v=F("all"),e=[{value:"recebido",label:"Recebido"},{value:"pendente",label:"Pendente"}],o=[{value:"salario",label:"Salário"},{value:"freelance",label:"Freelance"},{value:"rendimento",label:"Rendimento"},{value:"outros",label:"Outros"}],H=[{value:"created_at",label:"Data de criação"},{value:"valor",label:"Valor"},{value:"descricao",label:"Descrição"},{value:"data_vencimento",label:"Vencimento"}],R=K(()=>{let u=[...$.receitas];if(p.value){const r=p.value.toLowerCase();u=u.filter(i=>i.descricao.toLowerCase().includes(r)||i.tipo.toLowerCase().includes(r))}return m.value!=="all"&&(u=u.filter(r=>r.status===m.value)),v.value!=="all"&&(u=u.filter(r=>r.tipo===v.value)),u.sort((r,i)=>{let D=r[_.value],B=i[_.value];return _.value==="valor"&&(D=parseFloat(r.valor),B=parseFloat(i.valor)),D<B?x.value==="asc"?-1:1:D>B?x.value==="asc"?1:-1:0}),u}),N=()=>{p.value="",m.value="all",v.value="all"},O=u=>{confirm("Tem certeza que deseja excluir esta receita?")&&X.delete(`/receitas/${u}`)};return(u,r)=>(n(),c(L,null,[a(s(Q),{title:"Receitas"}),a(J,{breadcrumbs:k},{default:l(()=>[t("div",Je,[t("div",Ke,[t("div",null,[r[6]||(r[6]=t("h1",{class:"text-2xl font-bold tracking-tight"},"Receitas",-1)),t("p",Qe," Gerencie suas receitas e rendimentos ("+d(R.value.length)+" "+d(R.value.length===1?"item":"itens")+") ",1)]),t("div",We,[a(Z,{modelValue:s(g),"onUpdate:modelValue":[r[0]||(r[0]=i=>W(g)?g.value=i:null),s(C)]},null,8,["modelValue","onUpdate:modelValue"]),a(s(y),{href:"/receitas/create"},{default:l(()=>[a(s(b),null,{default:l(()=>[a(s(E),{class:"mr-2 h-4 w-4"}),r[7]||(r[7]=f(" Nova Receita ",-1))]),_:1,__:[7]})]),_:1})])]),a(ee,{"search-term":p.value,"onUpdate:searchTerm":r[1]||(r[1]=i=>p.value=i),"sort-by":_.value,"onUpdate:sortBy":r[2]||(r[2]=i=>_.value=i),"sort-order":x.value,"onUpdate:sortOrder":r[3]||(r[3]=i=>x.value=i),"status-filter":m.value,"onUpdate:statusFilter":r[4]||(r[4]=i=>m.value=i),"type-filter":v.value,"onUpdate:typeFilter":r[5]||(r[5]=i=>v.value=i),"status-options":e,"type-options":o,"sort-options":H,"show-type-filter":!0,onClearFilters:N},null,8,["search-term","sort-by","sort-order","status-filter","type-filter"]),a(s(M)),u.receitas.length===0?(n(),c("div",Xe,[t("div",Ye,[r[9]||(r[9]=t("h3",{class:"text-lg font-semibold"},"Nenhuma receita encontrada",-1)),r[10]||(r[10]=t("p",{class:"text-muted-foreground mb-4"}," Comece adicionando sua primeira receita ",-1)),a(s(y),{href:"/receitas/create"},{default:l(()=>[a(s(b),null,{default:l(()=>[a(s(E),{class:"mr-2 h-4 w-4"}),r[8]||(r[8]=f(" Adicionar Receita ",-1))]),_:1,__:[8]})]),_:1})])])):R.value.length===0?(n(),c("div",Ze,[t("div",et,[r[12]||(r[12]=t("h3",{class:"text-lg font-semibold"},"Nenhuma receita encontrada",-1)),r[13]||(r[13]=t("p",{class:"text-muted-foreground mb-4"}," Tente ajustar os filtros de busca ",-1)),a(s(b),{variant:"outline",onClick:N},{default:l(()=>r[11]||(r[11]=[f(" Limpar Filtros ",-1)])),_:1,__:[11]})])])):s(g)==="cards"?(n(),c("div",tt,[(n(!0),c(L,null,T(R.value,i=>(n(),V(je,{key:i.id,receita:i,onDelete:O},null,8,["receita"]))),128))])):(n(),c("div",st,[(n(!0),c(L,null,T(R.value,i=>(n(),V(He,{key:i.id,receita:i,onDelete:O},null,8,["receita"]))),128))]))])]),_:1})],64))}});export{Vt as default};
